  

    <meta charset="utf-8">
    <title>Adyen Payment Form</title>
    
    <link href="Areas/Public/Styles/Layout.css" rel="stylesheet"/>
    


<div class="cart-steps-wrap">
    <div class="cart-steps cart-step3"></div>
    <ul class="cart-steps-text" style="list-style-type: none;">
        <li class="cart-step-1 current-step">Log in/ Create Account</li>
        <li class="cart-step-2">Review</li>
        <li class="cart-step-3">Payments</li>
        <li class="cart-step-4">Receipt & Confirmation</li>
    </ul>
</div>


    <div style="float:left;">
                        

                       
     
            <div style="width:50%;float: left; padding:10px; position:relative; text-align:left;">
                <h1>Payment</h1>

                <div style="font-size: 18px;margin-top : 8px; margin-bottom: 8px; margin-left:8px; text-align:right;">
                    Amount: &nbsp; @ViewBag.PaymentTotalLbl
                </div>

                <div style="font-size: 18px;margin-top : 8px; margin-bottom: 8px; margin-left:8px; text-align:right;">
                    Order Number: &nbsp;@ViewBag.OrderNo
                </div>

                    <form method="POST" action="@ViewBag.hppUrl" target="_self">
                    <input type="hidden" name="merchantReference" value="@ViewBag.merchantReference">
                    <input type="hidden" name="paymentAmount" value="@ViewBag.paymentAmount">
                    <input type="hidden" name="currencyCode" value="@ViewBag.currencyCode">
                    <input type="hidden" name="shipBeforeDate" value="@ViewBag.shipBeforeDate">
                    <input type="hidden" name="skinCode" value="@ViewBag.skinCode">
                    <input type="hidden" name="merchantAccount" value="@ViewBag.merchantAccount">
                    <input type="hidden" name="sessionValidity" value="@ViewBag.sessionValidity">
                    <input type="hidden" name="shopperLocale" value="@ViewBag.shopperLocale">
                    <input type="hidden" name="orderData" value="@ViewBag.orderData">
                    <input type="hidden" name="countryCode" value="@ViewBag.countryCode">
                    <input type="hidden" name="shopperEmail" value="@ViewBag.shopperEmail">
                    <input type="hidden" name="shopperReference" value="@ViewBag.shopperReference">
                    <input type="hidden" name="allowedMethods" value="@ViewBag.allowedMethods">
                    <input type="hidden" name="blockedMethods" value="@ViewBag.blockedMethods">
                    <input type="hidden" name="offset" value="@ViewBag.offset">
                    <input type="hidden" name="merchantSig" value="@ViewBag.merchantSig">
                    <input type="submit" id="SubmitPayment" value="Proceed">
                    &nbsp;
                    <input type="button" onclick="location.href = '/public/course/browse'" value="Cancel"/>
                </form>

                <p></p>
                <p></p>
                <p></p>
                <div id="prcssqr" style="color:blue; margin-top: 20px; min-height:20px;"></div>
                <div id="errors" style="color:red; min-height:40px;">@ViewBag.reason_code</div>


        </div>

        <div style="float: left; width: 40%; padding-right: 10px; padding-left: 50px;">
            <div style="padding-left: 5px; margin-top:30px; font-size:15px;">
            <p></p>Powered by:
            <img src="/images/adyen-logo-green.png"  height="60"/ style="padding: 20px;">



        <div style="float: left; width: 40%; padding-left: 120px; padding-top:130px;">
        </div>

</div>     

<script type="text/javascript">
    var errorDiv = document.getElementById('prcssqr');
    if ('@ViewBag.reason_code' == '') {
        errorDiv.innerHTML = "";
        document.getElementById('SubmitPayment').value = "Proceed"
    } else {
        if ('@ViewBag.reason_code' == 'AUTHORISED') {
            errorDiv.innerHTML = "Payment Successful and Confirmation complete.";
            window.location = "Public/cart/ShowConfirmationReceipt?OrderNumber=@ViewBag.OrderNo"
        } else {
            errorDiv.innerHTML = "Error on Payment.";
            document.getElementById('SubmitPayment').value = "Try Again"
        }
    }
</script>
   
 